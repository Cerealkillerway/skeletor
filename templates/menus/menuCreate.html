<template name="menuCreate">
    <div class="skelePanel">
        <div class="valign-wrapper">
            <i class="material-icons large left">menu</i>
            <h4 class="valign">
                {{#if data.item}}
                    {{i18n "updateMenu_text"}}
                {{else}}
                    {{i18n "createMenu_text"}}
                {{/if}} [{{currentContentLang}}]
            </h4>
        </div>
        {{#if data.item}}
            <div class="skeleDocumentTitle">{{skeleLangAttribute data.item "name" "skeletorDefault"}}</div>
        {{/if}}

        <div class="skeleformWrapper">
            {{> skeleform data}}
        </div>

        {{#with data.menuItems}}
            {{> menuItemsSortable data=this}}
        {{/with}}
    </div>
</template>


<template name="menuItemsSortable">
    <div class="row">
        <div class="col s12 m6">
            <ul class="menuItems collection">
                {{#each data}}
                    <li class="collection-item">
                        {{#if (skeleLangAttribute this "menuIcon" "skeletorDefault")}}
                            <i class="material-icons left">{{skeleLangAttribute this "menuIcon" "skeletorDefault"}}</i>
                        {{/if}}
                        {{skeleLangAttribute this "menuName" "skeletorDefault"}}
                        <span class="hide pageId">{{this._id}}</span>

                        <i class="material-icons right pointer dragHandle">drag_handle</i>
                    </li>
                {{/each}}
            </ul>
        </div>
    </div>
</template>
